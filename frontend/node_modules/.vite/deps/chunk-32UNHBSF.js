import {
  addTransactionToStore
} from "./chunk-YQXA2AWL.js";
import {
  toSerializableTransaction
} from "./chunk-5LTEBNG6.js";

// node_modules/thirdweb/dist/esm/utils/config.js
var transactionDecorator = null;
function setTransactionDecorator(decoratorFunction) {
  transactionDecorator = decoratorFunction;
}
function clearTransactionDecorator() {
  transactionDecorator = null;
}
function getTransactionDecorator() {
  return transactionDecorator;
}

// node_modules/thirdweb/dist/esm/transaction/actions/send-transaction.js
async function sendTransaction(options) {
  let { account, transaction, gasless } = options;
  const decorator = getTransactionDecorator();
  if (decorator) {
    const { account: decoratedAccount, transaction: decoratedTransaction } = await decorator({ account, transaction });
    account = decoratedAccount;
    transaction = decoratedTransaction;
  }
  if (account.onTransactionRequested) {
    await account.onTransactionRequested(transaction);
  }
  if (transaction.eip712) {
    const { sendEip712Transaction } = await import("./send-eip712-transaction-SICF524I.js");
    return sendEip712Transaction({
      account,
      transaction
    });
  }
  const serializableTransaction = await toSerializableTransaction({
    transaction,
    from: account
  });
  if (gasless) {
    const { sendGaslessTransaction } = await import("./send-gasless-transaction-D7O3FYSM.js");
    return sendGaslessTransaction({
      account,
      transaction,
      serializableTransaction,
      gasless
    });
  }
  const result = await account.sendTransaction(serializableTransaction);
  addTransactionToStore({
    address: account.address,
    transactionHash: result.transactionHash,
    chainId: transaction.chain.id
  });
  return { ...result, chain: transaction.chain, client: transaction.client };
}

export {
  setTransactionDecorator,
  clearTransactionDecorator,
  getTransactionDecorator,
  sendTransaction
};
//# sourceMappingURL=chunk-32UNHBSF.js.map
